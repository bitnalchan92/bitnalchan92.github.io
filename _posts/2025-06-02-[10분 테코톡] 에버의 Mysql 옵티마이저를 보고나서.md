---
title: "[10ë¶„ í…Œì½”í†¡] ì—ë²„ì˜ Mysql ì˜µí‹°ë§ˆì´ì €ì„ ë³´ê³ ë‚˜ì„œ"
description: "ì‹œì²­ í›„ê¸° ë° ë©”ëª¨"
date: 2025-06-02
categories: [ìš°ì•„í•œ í…Œí¬ì½”ìŠ¤ í…Œì½”í†¡, 10ë¶„ í…Œì½”í†¡]
tags: [Mysql, ì˜µí‹°ë§ˆì´ì €]
---



> ğŸ“ ì¶œì²˜ : https://www.youtube.com/watch?v=gcsu7ni3tBc



- ì˜µí‹°ë§ˆì´ì €ì˜ ì‹¤í–‰ê³„íšì— ëŒ€í•´ì„œ...

  - ì¸ë±ìŠ¤ì™€ ìŠ¤ìº” íŠœë‹ì— ëŒ€í•´ì„œëŠ” https://www.youtube.com/watch?v=_UI8YDU_mfg ì°¸ê³ í•˜ë©´ ì¢‹ë‹¤ê³  í•¨...

  

- MySql Server

  - `MySql ì—”ì§„` ê³¼ `ìŠ¤í† ë¦¬ì§€ ì—”ì§„`ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŒ
  - `MySql ì—”ì§„`ì€ Sqlë¬¸ì¥ì„ ë¶„ì„ ë° ìµœì í™” í•˜ëŠ” ì—­í• ì„ í•˜ê³ ...
    - ì˜µí‹°ë§ˆì´ì €ê°€ ì—¬ê¸°ì— í•´ë‹¹
  - `ìŠ¤í† ë¦¬ì§€ ì—”ì§„`ì€ ë°ì´í„°ë¥¼ ì €ì¥ ë° ì¡°íšŒí•˜ëŠ” ì—­í• ì„ í•œë‹¤. 



- ì¿¼ë¦¬ ì‹¤í–‰ ê³¼ì •
  - MySql ì—”ì§„ì—ì„œ...
    - SQL íŒŒì„œ
    - SQL ì˜µí‹°ë§ˆì´ì €
    - SQL ì‹¤í–‰ê¸°
  - ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ...
    - ë°ì´í„° ì½ê¸° ë° ì“°ê¸°



- ì‹¤í–‰ê³„íšì´ë€...

  - **ì˜µí‹°ë§ˆì´ì €ê°€ ê²°ì •í•œ ìµœì ì˜ ì¿¼ë¦¬ ì‹¤í–‰ë°©ë²•**

    ```sql
    EXPLAIN
    SQLë¬¸ ì‘ì„±;
    ```

    

- ì‹¤í–‰ê³„íš ë¶„ì„

  **[Table 10.1 EXPLAIN Output Columns](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html)**

  | Column                                                       | JSON Name       | Meaning                                        |
  | :----------------------------------------------------------- | :-------------- | :--------------------------------------------- |
  | [`id`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_id) | `select_id`     | The `SELECT` identifier                        |
  | [`select_type`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_select_type) | None            | The `SELECT` type                              |
  | [`table`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_table) | `table_name`    | The table for the output row                   |
  | [`partitions`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_partitions) | `partitions`    | The matching partitions                        |
  | [`type`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_type) | `access_type`   | The join type                                  |
  | [`possible_keys`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_possible_keys) | `possible_keys` | The possible indexes to choose                 |
  | [`key`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_key) | `key`           | The index actually chosen                      |
  | [`key_len`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_key_len) | `key_length`    | The length of the chosen key                   |
  | [`ref`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_ref) | `ref`           | The columns compared to the index              |
  | [`rows`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_rows) | `rows`          | Estimate of rows to be examined                |
  | [`filtered`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_filtered) | `filtered`      | Percentage of rows filtered by table condition |
  | [`Extra`](https://dev.mysql.com/doc/refman/8.4/en/explain-output.html#explain_extra) | None            | Additional information                         |

  - key : possible_keys ì»¬ëŸ¼ì— ì íŒ í›„ë³´ ì¸ë±ìŠ¤ ì¤‘ ì‹¤ì œë¡œ ì„ íƒí•œ ì¸ë±ìŠ¤
  - rows : 
    - ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì¡°ì‚¬í•´ì•¼ í•˜ëŠ” í–‰ì˜ ìˆ˜ ( ë†’ì„ìˆ˜ë¡ ì•ˆì¢‹ìŒ )
    - rowsê°’ì„ ì¤„ì´ëŠ” ê²ƒì´ ì¿¼ë¦¬ íŠœë‹ì˜ í•µì‹¬ì´ë¼ê³  í•¨
  - type : 
    - ê° í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì„ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì¡°íšŒí–ˆëŠ”ì§€ì— ëŒ€í•´ì„œ ì†Œê°œ...
    - type: `const`
      - ì¼ì¹˜í•˜ëŠ” í–‰ì´ í•˜ë‚˜ì¼ë•Œ
      - ì†ë„ê°€ ê°€ì¥ ë¹ ë¦„
    - type: `ref`
      - PK / Uniqueê°€ ì•„ë‹Œ ì»¬ëŸ¼ì˜ ì¸ë±ìŠ¤
      - ë™ë“±(equal)ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í• ë•Œ
        - `where age = 25;`
    - type: `range`
      - index range scan
      - ì¸ë±ìŠ¤ë¥¼ í™œìš©í•´ ë²”ìœ„ í˜•íƒœì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•œ ê²½ìš°
        - `where age < 25;`
    - type: `index`
      - index table full scan
      - ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ í…Œì´ë¸” ì „ì²´ë¥¼ ìŠ¤ìº”í•˜ëŠ” ê²½ìš° ì„ íƒë˜ëŠ” íƒ€ì…
    - type: `all`
      - ì‹¤ì œ í…Œì´ë¸”ì˜ table full scan
      - ì„±ëŠ¥ì´ ì¢‹ì§€ ì•ŠìŒ
      - ì¸ë±ìŠ¤ ì¶”ê°€ë¥¼ í†µí•´ í”¼í•  ìˆ˜ ìˆìŒ
        - `where address like 'ëŒ€ì „%';`
    - ë°œí‘œì ë¶„ê»˜ì„œ `type`ì´`index | all`ì¸ ê²½ìš°ì—ëŠ” ë³¸ì¸ì˜ ì˜ë„ì— ë§ëŠ”ì§€ ë‹¤ì‹œí•œë²ˆ í™•ì¸í•´ ë³¼ í•„ìš”ê°€ ìˆë‹¤ê³  ë§ì”€í•˜ì…¨ë‹¤. 

  - Extra

    - ì£¼ë¡œ ë‚´ë¶€ì ì¸ ì²˜ë¦¬ ì•Œê³ ë¦¬ì¦˜(ì¡°ê¸ˆ ë” ê¹Šì´ ìˆëŠ” ë‚´ìš©)ì„ ì†Œê°œí•˜ê³ ìí• ë•Œ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼

    - Extra: Using filesort

      - ë³„ë„ì˜ ê³µê°• ì†ŒíŠ¸ ë²„í¼ì—ì„œ ì²˜ë¦¬
      - ì •ë ¬ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì ì ˆí•œ ì¸ë±ìŠ¤ë¥¼ ì°¾ì§€ ëª»í•œ ê²½ìš° ì‚¬ìš©ë˜ëŠ” ì •ë ¬ ë°©ì‹

    - Extra: Using temporary

      - ```sql
        explain
        ( sql ...)
        union
        ( sql ...)
        ```

      - ì²« ì¿¼ë¦¬ì™€ ë‘ë²ˆì§¸ ì¿¼ë¦¬ë¥¼ ë³‘í•©í•  ìƒˆë¡œìš´ ê³µê°„ì´ í•„ìš”í•œë° ê·¸ ê³µê°„ì„ ì‚¬ìš©í–ˆë‹¤ëŠ” ì˜ë¯¸ë¡œ Using temporaryë¥¼ ì´í•´í•˜ë©´ ëœë‹¤. 

    - Extra: Using index

      - ì»¤ë²„ë§ ì¸ë±ìŠ¤ ( ì‹¤ì œ ë°ì´í„° íŒŒì¼ì„ ì½ì§€ ì•Šê³  ì¸ë±ìŠ¤ í…Œì´ë¸”ë§Œì„ ì½ì–´ì„œ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ë•Œ)ì˜ ë°©ì‹



- ì˜µí‹°ë§ˆì´ì €ê°€ ì œê³µí•˜ëŠ” í†µê³„ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í•˜ê³  íŒíŠ¸ë¥¼ ì‚¬ìš©í•´ ì˜µí‹°ë§ˆì´ì €ê°€ ì ì ˆí•œ ë°©í–¥ìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤˜ì•¼ í•œë‹¤.



---



by GPT...

#### 1. **`ì˜µí‹°ë§ˆì´ì €`ê°€ ì¿¼ë¦¬ë¥¼ ì–´ë–»ê²Œ ìµœì í™”í•˜ëŠ”ì§€ ì˜ˆì‹œ ì¶”ê°€**

- ì˜ˆë¥¼ ë“¤ì–´, ë‘ í…Œì´ë¸” ê°„ ì¡°ì¸ì´ ìˆì„ ë•Œ **ì¡°ì¸ ìˆœì„œ**ë¥¼ ì–´ë–»ê²Œ ì •í•˜ëŠ”ì§€ ê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ í•˜ë‚˜ ë„£ì–´ì£¼ë©´ ì¢‹ì„ ê²ƒ ê°™ì•„.

```
ì˜ˆ) ë‘ í…Œì´ë¸” A, Bë¥¼ ì¡°ì¸í•  ë•Œ ì˜µí‹°ë§ˆì´ì €ëŠ” í†µê³„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¨¼ì € ì¡°íšŒ ë¹„ìš©ì´ ë‚®ì€ í…Œì´ë¸”ì„ ë¨¼ì € ì ‘ê·¼í•˜ëŠ” ì‹¤í–‰ ê³„íšì„ ì„¸ìš´ë‹¤.
```

#### 2. **`Extra` í•­ëª©ì— ëŒ€í•œ í•´ì„ ë³´ì™„**

- `Using filesort` ì™€ `Using temporary`ê°€ ë°˜ë“œì‹œ ë‚˜ì˜ë‹¤ëŠ” ëœ»ì€ ì•„ë‹ˆë¼ëŠ” ì ì„ ë¶€ì—°í•´ì£¼ë©´ ì¢‹ì„ ë“¯í•´.

```
â€» `Using filesort`ë‚˜ `Using temporary`ëŠ” ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆì§€ë§Œ, ë³µì¡í•œ ì¿¼ë¦¬ êµ¬ì¡°ì—ì„œëŠ” ë¶ˆê°€í”¼í•œ ê²½ìš°ë„ ë§ë‹¤. ë¬¸ì œëŠ” ì´ê²ƒë“¤ì´ **ë¹ˆë²ˆí•˜ê±°ë‚˜ ë¶ˆí•„ìš”í•˜ê²Œ ë°œìƒí•  ë•Œ**ì´ë©°, ì´ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì¸ë±ìŠ¤ ìµœì í™”ë‚˜ ì¿¼ë¦¬ êµ¬ì¡° ê°œì„ ì´ í•„ìš”í•˜ë‹¤.
```

#### 3. **`ì‹¤í–‰ê³„íš íŠœë‹`ì„ ìœ„í•œ íŒ ìš”ì•½**

ë§ˆì§€ë§‰ ë¶€ë¶„ì— ì•„ë˜ì²˜ëŸ¼ ê°„ë‹¨í•œ ìš”ì•½ í¬ì¸íŠ¸ë¥¼ ë„£ìœ¼ë©´ ë§ˆë¬´ë¦¬ê°€ ëª…í™•í•´ì§ˆ ìˆ˜ ìˆì–´.

```
ğŸ“Œ ì‹¤í–‰ê³„íš íŠœë‹ ìš”ì•½

- `rows` ìˆ˜ë¥¼ ì¤„ì´ëŠ” ê²ƒì´ í•µì‹¬!
- `type`ì€ ê°€ëŠ¥í•œ `const`, `ref`, `range`ë¡œ ë‚˜ì˜¤ê²Œ í•˜ì.
- `Extra`ì— `Using filesort`, `Using temporary`ê°€ ìì£¼ ë³´ì¸ë‹¤ë©´ ì¿¼ë¦¬ êµ¬ì¡°ë‚˜ ì¸ë±ìŠ¤ë¥¼ ì ê²€í•˜ì.
- í†µê³„ì •ë³´ ê°±ì‹  (`ANALYZE TABLE`)ì´ë‚˜ íŒíŠ¸ ì‚¬ìš©ìœ¼ë¡œ ì˜µí‹°ë§ˆì´ì €ë¥¼ ë„ì™€ì¤„ ìˆ˜ ìˆë‹¤.
```

#### 4. **EXPLAIN ê²°ê³¼ë¥¼ JSON í˜•íƒœë¡œ ë³´ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì–¸ê¸‰**

- MySQL 8.0 ì´ìƒì—ì„œëŠ” `EXPLAIN FORMAT=JSON`ìœ¼ë¡œ ë” êµ¬ì¡°ì ì¸ ì‹¤í–‰ê³„íšì„ í™•ì¸í•  ìˆ˜ ìˆì–´.

```
EXPLAIN FORMAT=JSON
SELECT * FROM my_table WHERE age > 25;
```

------

### âœ… ë¬¸ì„œ êµ¬ì¡° ê´€ë ¨ ì œì•ˆ

- `EXPLAIN Output Columns` í‘œëŠ” ë„ˆë¬´ ì˜ ì •ë¦¬ë˜ì–´ ìˆì–´! ë‹¤ë§Œ, ì´ í‘œ ìœ„ì— ê°„ë‹¨íˆ "ì´ í•­ëª©ë“¤ì´ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ ì˜ˆì‹œ"ë¥¼ ë¶™ì—¬ì¤„ ìˆ˜ ìˆìœ¼ë©´ ë” ì¢‹ì„ ë“¯í•´.

ì˜ˆì‹œ:

```
EXPLAIN
SELECT * FROM users WHERE age = 25;
```

ì´ëŸ° ì‹¤í–‰ê³„íš ê²°ê³¼ë¥¼ í•¨ê»˜ ë³´ì—¬ì£¼ë©´, í‘œ ë‚´ìš©ì„ ë” ì§ê´€ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆì„ ê±°ì•¼.
